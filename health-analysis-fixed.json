{
  "metadata": {
    "analysis_date": "2025-08-18T20:07:31.171Z",
    "input_image": "https://cinnamonsnail.com/wp-content/uploads/2023/06/Lauki-ki-sabji-feature.jpg",
    "download_path": "/tmp/gutty-image-1755547619670.jpg",
    "verticals_analyzed": [
      "pcos",
      "endometriosis",
      "ibs"
    ],
    "processing_pipeline": "Image → Recipe Matching → Nutrition Mapping → Health Analysis"
  },
  "step1_recipe_matching": {
    "description": "Image analyzed using CLIP embeddings to find similar recipes from database",
    "candidates_found": 50,
    "top_candidates": [
      {
        "recipe_id": "140278",
        "title": "Stew In A Pumpkin(Serves 8 To 10)",
        "similarity_score": "0.909",
        "ingredients_preview": "3 Tbsp. vegetable oil, 1 large onion, roughly chopped, 2 cloves garlic, minced..."
      },
      {
        "recipe_id": "135152",
        "title": "Squash Crouquettes",
        "similarity_score": "0.928",
        "ingredients_preview": "4 or 5 yellow squash, cut up, 1 small onion, cut up, salt to taste..."
      },
      {
        "recipe_id": "196475",
        "title": "Squash, Tomato And Pepper Relish",
        "similarity_score": "0.928",
        "ingredients_preview": "squash, diced into small pieces, diced, skinned tomatoes, diced onions..."
      },
      {
        "recipe_id": "195401",
        "title": "Baked Cushaw(Crook-Necked Squash)",
        "similarity_score": "0.929",
        "ingredients_preview": "1 medium cushaw, 2 eggs, 2 c. sugar..."
      },
      {
        "recipe_id": "199347",
        "title": "Watermelon Rind Pickles",
        "similarity_score": "0.932",
        "ingredients_preview": "melon with thick rind, 1 gal. water, 2 heaping Tbsp. lime..."
      }
    ],
    "llm_consolidation": {
      "chosen_recipe": "140278",
      "confidence_indicators": [
        "Selected from top 10 candidates",
        "Recipe servings: 4",
        "Extracted 14 ingredients"
      ]
    }
  },
  "step2_nutrition_mapping": {
    "description": "Recipe ingredients mapped to COFID nutrition database and glycemic index data",
    "ingredient_mapping": [
      {
        "ingredient": "Oil, coconut",
        "cofid_match": "Oil, coconut",
        "glycemic_index": 54,
        "glycemic_load": 8,
        "nutrition_per_100g": {
          "calories": 899,
          "protein_g": 0,
          "carbs_g": 0,
          "fat_g": 99.9,
          "fiber_g": 0,
          "sugars_g": 0,
          "sodium_mg": 0
        },
        "health_flags": [
          "low-gi",
          "pcos-friendly",
          "low-fodmap",
          "ibs-friendly"
        ]
      },
      {
        "ingredient": "Onion sauce, made with semi-skimmed milk, homemade",
        "cofid_match": "Onion sauce, made with semi-skimmed milk, homemade",
        "glycemic_index": 54,
        "glycemic_load": 8,
        "nutrition_per_100g": {
          "calories": 88,
          "protein_g": 3,
          "carbs_g": 9,
          "fat_g": 4.7,
          "fiber_g": 1,
          "sugars_g": 4.8,
          "sodium_mg": 65
        },
        "health_flags": [
          "low-gi",
          "pcos-friendly",
          "low-fodmap",
          "ibs-friendly"
        ]
      },
      {
        "ingredient": "Cloves, dried",
        "cofid_match": "Cloves, dried",
        "glycemic_index": 54,
        "glycemic_load": 8,
        "nutrition_per_100g": {
          "calories": 0,
          "protein_g": 6,
          "carbs_g": 0,
          "fat_g": 20.1,
          "fiber_g": 0,
          "sugars_g": 0,
          "sodium_mg": 240
        },
        "health_flags": [
          "low-gi",
          "pcos-friendly",
          "low-fodmap",
          "ibs-friendly"
        ]
      },
      {
        "ingredient": "Tomatoes, canned, whole contents",
        "cofid_match": "Tomatoes, canned, whole contents",
        "glycemic_index": 54,
        "glycemic_load": 8,
        "nutrition_per_100g": {
          "calories": 19,
          "protein_g": 1.1,
          "carbs_g": 3.8,
          "fat_g": 0.1,
          "fiber_g": 0.8,
          "sugars_g": 3.8,
          "sodium_mg": 5
        },
        "health_flags": [
          "low-gi",
          "pcos-friendly",
          "low-fodmap",
          "ibs-friendly"
        ]
      },
      {
        "ingredient": "Pepper, black",
        "cofid_match": "Pepper, black",
        "glycemic_index": 54,
        "glycemic_load": 8,
        "nutrition_per_100g": {
          "calories": 0,
          "protein_g": 10.4,
          "carbs_g": 0,
          "fat_g": 3.3,
          "fiber_g": 25.3,
          "sugars_g": 0.6,
          "sodium_mg": 20
        },
        "health_flags": [
          "low-gi",
          "pcos-friendly",
          "high-fiber",
          "pcos-friendly",
          "endometriosis-friendly",
          "low-fodmap",
          "ibs-friendly",
          "anti-inflammatory-potential",
          "endometriosis-friendly"
        ]
      },
      {
        "ingredient": "Potato, leek and celery bake",
        "cofid_match": "Potato, leek and celery bake",
        "glycemic_index": 54,
        "glycemic_load": 8,
        "nutrition_per_100g": {
          "calories": 122,
          "protein_g": 4.4,
          "carbs_g": 12.6,
          "fat_g": 6.5,
          "fiber_g": 0,
          "sugars_g": 1.6,
          "sodium_mg": 490
        },
        "health_flags": [
          "low-gi",
          "pcos-friendly",
          "low-fodmap",
          "ibs-friendly"
        ]
      },
      {
        "ingredient": "Potato, leek and celery bake",
        "cofid_match": "Potato, leek and celery bake",
        "glycemic_index": 54,
        "glycemic_load": 8,
        "nutrition_per_100g": {
          "calories": 122,
          "protein_g": 4.4,
          "carbs_g": 12.6,
          "fat_g": 6.5,
          "fiber_g": 0,
          "sugars_g": 1.6,
          "sodium_mg": 490
        },
        "health_flags": [
          "low-gi",
          "pcos-friendly",
          "low-fodmap",
          "ibs-friendly"
        ]
      },
      {
        "ingredient": "Salt",
        "cofid_match": "Salt",
        "glycemic_index": 54,
        "glycemic_load": 8,
        "nutrition_per_100g": {
          "calories": 0,
          "protein_g": 0,
          "carbs_g": 0,
          "fat_g": 0,
          "fiber_g": 0,
          "sugars_g": 0,
          "sodium_mg": 39300
        },
        "health_flags": [
          "low-gi",
          "pcos-friendly",
          "low-fodmap",
          "ibs-friendly",
          "high-sodium"
        ]
      },
      {
        "ingredient": "Pepper, black",
        "cofid_match": "Pepper, black",
        "glycemic_index": 54,
        "glycemic_load": 8,
        "nutrition_per_100g": {
          "calories": 0,
          "protein_g": 10.4,
          "carbs_g": 0,
          "fat_g": 3.3,
          "fiber_g": 25.3,
          "sugars_g": 0.6,
          "sodium_mg": 20
        },
        "health_flags": [
          "low-gi",
          "pcos-friendly",
          "high-fiber",
          "pcos-friendly",
          "endometriosis-friendly",
          "low-fodmap",
          "ibs-friendly",
          "anti-inflammatory-potential",
          "endometriosis-friendly"
        ]
      },
      {
        "ingredient": "Honey",
        "cofid_match": "Honey",
        "glycemic_index": 54,
        "glycemic_load": 8,
        "nutrition_per_100g": {
          "calories": 288,
          "protein_g": 0.4,
          "carbs_g": 76.4,
          "fat_g": 0,
          "fiber_g": 0,
          "sugars_g": 76.4,
          "sodium_mg": 11
        },
        "health_flags": [
          "low-gi",
          "pcos-friendly",
          "high-sugar",
          "pcos-caution",
          "high-fodmap",
          "ibs-caution"
        ]
      },
      {
        "ingredient": "Pumpkin, flesh only, boiled in unsalted water",
        "cofid_match": "Pumpkin, flesh only, boiled in unsalted water",
        "glycemic_index": 54,
        "glycemic_load": 8,
        "nutrition_per_100g": {
          "calories": 12,
          "protein_g": 0.6,
          "carbs_g": 1.9,
          "fat_g": 0.3,
          "fiber_g": 0,
          "sugars_g": 1.8,
          "sodium_mg": 0
        },
        "health_flags": [
          "low-gi",
          "pcos-friendly",
          "low-fodmap",
          "ibs-friendly"
        ]
      },
      {
        "ingredient": "Butter, salted",
        "cofid_match": "Butter, salted",
        "glycemic_index": 54,
        "glycemic_load": 8,
        "nutrition_per_100g": {
          "calories": 744,
          "protein_g": 0.6,
          "carbs_g": 0.6,
          "fat_g": 82.2,
          "fiber_g": 0,
          "sugars_g": 0.6,
          "sodium_mg": 730
        },
        "health_flags": [
          "low-gi",
          "pcos-friendly",
          "low-fodmap",
          "ibs-friendly",
          "high-sodium"
        ]
      },
      {
        "ingredient": "Marjoram, dried",
        "cofid_match": "Marjoram, dried",
        "glycemic_index": 54,
        "glycemic_load": 8,
        "nutrition_per_100g": {
          "calories": 271,
          "protein_g": 12.7,
          "carbs_g": 42.5,
          "fat_g": 7,
          "fiber_g": 0,
          "sugars_g": 0,
          "sodium_mg": 77
        },
        "health_flags": [
          "low-gi",
          "pcos-friendly",
          "low-fodmap",
          "ibs-friendly"
        ]
      }
    ],
    "totals_calculated": {
      "calories": 197,
      "protein": 4.2,
      "carbs": 12.3,
      "fat": 18,
      "fiber": 4,
      "sugars": 7.1,
      "sodium": 3188,
      "gi_value": 54,
      "is_low_gi": true,
      "is_high_fodmap": true,
      "health_flags": [
        "low-gi",
        "pcos-friendly",
        "high-fodmap",
        "ibs-caution",
        "high-sodium",
        "anti-inflammatory-potential",
        "endometriosis-friendly"
      ]
    },
    "database_coverage": {
      "ingredients_found": 13,
      "total_ingredients": 14,
      "coverage_percentage": 93
    },
    "glycemic_assessment": {
      "average_gi": 54,
      "gi_category": "Low (≤55)"
    }
  },
  "step3_health_analysis": {
    "description": "Ingredients analyzed against health condition databases and research",
    "analysis_by_vertical": {
      "pcos": {
        "triggers_found": [
          {
            "vertical": "pcos",
            "type": "glycemic_index",
            "message": "Low glycemic index (54) supports insulin sensitivity",
            "severity": "positive",
            "recommendation": "Good choice for PCOS management",
            "ref": "PCOS dietary guidelines"
          }
        ],
        "knowledge_base_search": null
      },
      "endometriosis": {
        "triggers_found": [
          {
            "vertical": "endometriosis",
            "type": "sodium_content",
            "message": "High sodium content (3188mg) may increase inflammation",
            "severity": "caution",
            "recommendation": "Consider reducing sodium intake",
            "ref": "Inflammation and sodium intake"
          }
        ],
        "knowledge_base_search": null
      },
      "ibs": {
        "triggers_found": [
          {
            "vertical": "ibs",
            "type": "fodmap_content",
            "message": "Contains high-FODMAP ingredients that may trigger IBS symptoms",
            "severity": "caution",
            "recommendation": "Monitor symptoms or substitute with low-FODMAP alternatives",
            "ref": "Monash FODMAP research"
          }
        ],
        "knowledge_base_search": null
      }
    }
  },
  "final_results": {
    "recipe_identification": {
      "chosenRecipeId": "140278",
      "confidence": 0.7,
      "servings": 4,
      "ingredients": [
        {
          "name": "3 Tbsp. vegetable oil",
          "qty": 1,
          "unit": "serving"
        },
        {
          "name": "1 large onion, roughly chopped",
          "qty": 1,
          "unit": "serving"
        },
        {
          "name": "2 cloves garlic, minced",
          "qty": 1,
          "unit": "serving"
        },
        {
          "name": "2 large tomatoes, peeled, seeded and chopped",
          "qty": 1,
          "unit": "serving"
        },
        {
          "name": "1 large green bell pepper, seeded and chopped",
          "qty": 1,
          "unit": "serving"
        },
        {
          "name": "3 medium white potatoes, peeled and diced",
          "qty": 1,
          "unit": "serving"
        },
        {
          "name": "3 medium sweet potatoes, peeled and diced",
          "qty": 1,
          "unit": "serving"
        },
        {
          "name": "1/4 tsp. salt",
          "qty": 1,
          "unit": "serving"
        },
        {
          "name": "1/2 tsp. freshly ground black pepper",
          "qty": 1,
          "unit": "serving"
        },
        {
          "name": "1 tsp. honey",
          "qty": 1,
          "unit": "serving"
        },
        {
          "name": "1 medium pumpkin (about 12 lb.), measured to fit your oven",
          "qty": 1,
          "unit": "serving"
        },
        {
          "name": "1 Tbsp. unsalted butter, melted",
          "qty": 1,
          "unit": "serving"
        },
        {
          "name": "1 1/2 c. cooked corn, at room temperature",
          "qty": 1,
          "unit": "serving"
        },
        {
          "name": "1 tsp. chopped fresh marjoram, or pinch of dried",
          "qty": 1,
          "unit": "serving"
        }
      ]
    },
    "nutrition_totals": {
      "calories": 197,
      "protein": 4.2,
      "carbs": 12.3,
      "fat": 18,
      "fiber": 4,
      "sugars": 7.1,
      "sodium": 3188,
      "gi_value": 54,
      "is_low_gi": true,
      "is_high_fodmap": true,
      "health_flags": [
        "low-gi",
        "pcos-friendly",
        "high-fodmap",
        "ibs-caution",
        "high-sodium",
        "anti-inflammatory-potential",
        "endometriosis-friendly"
      ]
    },
    "health_considerations": {
      "notes": [
        {
          "vertical": "pcos",
          "type": "glycemic_index",
          "message": "Low glycemic index (54) supports insulin sensitivity",
          "severity": "positive",
          "recommendation": "Good choice for PCOS management",
          "ref": "PCOS dietary guidelines"
        },
        {
          "vertical": "endometriosis",
          "type": "sodium_content",
          "message": "High sodium content (3188mg) may increase inflammation",
          "severity": "caution",
          "recommendation": "Consider reducing sodium intake",
          "ref": "Inflammation and sodium intake"
        },
        {
          "vertical": "ibs",
          "type": "fodmap_content",
          "message": "Contains high-FODMAP ingredients that may trigger IBS symptoms",
          "severity": "caution",
          "recommendation": "Monitor symptoms or substitute with low-FODMAP alternatives",
          "ref": "Monash FODMAP research"
        }
      ],
      "evidence": [],
      "nutrition_flags": [
        "low-gi",
        "pcos-friendly",
        "high-fodmap",
        "ibs-caution",
        "high-sodium",
        "anti-inflammatory-potential",
        "endometriosis-friendly"
      ]
    },
    "summary": {
      "recipe_id": "140278",
      "servings": 4,
      "ingredients_count": 14,
      "health_flags": 3,
      "processing_success": true
    }
  }
}